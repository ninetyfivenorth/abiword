diff -urN aa/abiword-2.1.3/abiword-plugins/wp/impexp/xhtml/xp/ie_imp_MHT.cpp abiword-2.1.3/abiword-plugins/wp/impexp/xhtml/xp/ie_imp_MHT.cpp
--- aa/abiword-2.1.3/abiword-plugins/wp/impexp/xhtml/xp/ie_imp_MHT.cpp	2003-03-09 13:05:05.000000000 +0100
+++ abiword-2.1.3/abiword-plugins/wp/impexp/xhtml/xp/ie_imp_MHT.cpp	2004-06-28 22:11:44.869303776 +0200
@@ -578,7 +578,8 @@
 
 void UT_Multipart::clear ()
 {
-	UT_HASH_PURGEDATA (char *, m_map,  free);
+	//UT_HASH_PURGEDATA (char *, m_map,  free);
+	m_map->purgeData();
 	m_map->clear ();
 
 	if (m_buf) m_buf->truncate (0);
diff -urN aa/abiword-2.1.3/abiword-plugins/wp/impexp/xhtml/xp/ie_imp_MHT.h abiword-2.1.3/abiword-plugins/wp/impexp/xhtml/xp/ie_imp_MHT.h
--- aa/abiword-2.1.3/abiword-plugins/wp/impexp/xhtml/xp/ie_imp_MHT.h	2002-12-16 12:04:24.000000000 +0100
+++ abiword-2.1.3/abiword-plugins/wp/impexp/xhtml/xp/ie_imp_MHT.h	2004-06-28 22:08:48.163167192 +0200
@@ -34,9 +34,9 @@
 
 #include "ie_imp_XHTML.h"
 
-class UT_ByteBuf;
-class UT_StringPtrMap;
-class UT_Vector;
+//class UT_ByteBuf;
+//class UT_StringPtrMap;
+//class UT_Vector;
 
 class ABI_EXPORT UT_Multipart
 {
